-------------------------------------------------------------------------------! M S H !          MONITOR___MH-computer__V2.2                    ! Blatt   1 !!-----------------------------------------------------------------------------!!                                                                             !!  A log._ger{t = phys._ger{t     Festlegung des logischen Gebrauches der     !!                                 physischen Ger{te. (setzt das IOBYT)        !!                                 log._ger{t:    C --- Console                !!                                                R --- Reader                 !!                                                P --- Punch                  !!                                                L --- List-Device            !!                                 phys._ger{t:   T --- TTY       (C, R, P, L) !!                                                V --- Video     (C,       L) !!                                                B --- Batch     (C,        ) !!                                                P --- LB        (   R, P,  ) !!                                                C --- Kassette  (   R, P   ) !!                                                L --- Drucker   (         L) !!                                                U --- Eigenbau  (C, R, P, L) !!                                 Standard: AC=T , AR=T , AP=T , AL=T         !!                                                                             !!  B                              Eingabetastatur blockieren. Kann mit CTRL_N !!                                 (Code 1EH) wieder freigegeben werden.       !!                                                                             !!  C anfadr , endadr              Vergleich der Eingabe }ber den Reader mit   !!                                 dem Speicher.                               !!                                                                             !!  D anfadr , endadr              Anzeige eines Speicherbereiches in Hex-Code.!!                                 Stoppen der Anzeige mit CTRL_C.             !!                                                                             !!  E  endadr                      Ausgabe des Intel-Hexformates EOF }ber den  !!                                 Punch-Kanal.                                !!                                                                             !!  F anfadr , endadr, wert        F}llen eines Speicherbereiches mit einem    !!                                 konstanten Wert.                            !!                                                                             !!  G startadr ,  break1  ,  break2                                            !!                                 Start eines Anwenderprogrammes.             !!                                                                             !!  H wert1 , wert2                HEX-Arithmetik. Summe und Differenz werden  !!                                 gebildet und ausgegeben.                    !!                                                                             !!  J anfadr , endadr              Test eines Speicherbereiches. Dabei wird    !!                                 ein nicht zerst|render Schnelltest durchge- !!                                 f}hrt.                                      !!                                                                             !!  L anfadr                       Laden bin{r vom Reader-Kanal. Gegenst}ck zu !!                                 dem U-Befehl. Je 8 bit bilden eine Einheit. !!                                                                             !!  M anfadr , endadr , zieladr    Transportbefehl von anfadr bis endadr nach  !!                                 zieladr.                                    !!                                                                             !!  N                              Ausgabe von NULL-Zeichen }ber den Punch-    !!                                 Kanal z.B. zur Synchronisation eines        !!                                 Kassetten-Interface.                        !!                                                                             !!  P adr                          ASCII-Zeichen-Eingabe in den Speicher ab    !!                                 adr. Mit dem Zeichen "_" kann das letzte    !!                                 Zeichen gel|scht werden. Mit CTRL_D wird    !!                                 die Eingabe beendet und die letzte Adresse  !!                                 vom Monitor ausgegeben.                     !!                                                                             !!  QI portadr                     Lesen bzw. Schreiben der I/O-Ports.         !!  QO portadr , wert                                                          !--------------------------------------------------------------------------------------------------------------------------------------------------------------! M S H !          MONITOR___MH-computer__V2.2                    ! Blatt   2 !!-----------------------------------------------------------------------------!!                                                                             !!  R  bias  ,  reladr             Einlesen einer Intel-Hexfile }ber den Punch-!!                                 Kanal. Wird ein bias angegeben, so wird     !!                                 dieser Wert zu dem im Format angegebenen    !!                                 addiert. Mit reladr k|nnen im TDL-Relokating!!                                 Format geschriebene Programme verschoben    !!                                 werden, siehe auch (2).                     !!                                                                             !!  S adr                          Modifizieren von Speicherzellen. Mit Blank  !!                                 kann zur n{chsten Speicherzelle vorange-    !!                                 schritten werden, mit "_" kann die letzte   !!                                 Zelle angesprochen werden und durch Eingabe !!                                 eines hexadezimalen Wertes wird dieser dort !!                                 abgelegt. Mit CR wird die Eingabe beendet.  !!                                                                             !!  T anfadr , endadr              Anzeige eines Speicherbereiches in ASCII-   !!                                 Darstellung falls m|glich, sonst Anzeige    !!                                 eines Punktes.                              !!                                                                             !!  U anfadr , endadr              Bin{rausgabe }ber den Punch-Kanal. Ist mit  !!                                 dem L-Befehl wieder lesbar.                 !!                                                                             !!  V anfadr , endadr , zieladr    Vergleich eines Speicherbereiches von anfadr!!                                 bis endadr mit zieladr. Unterschiede werden !!                                 auf der Konsole ausgegeben.                 !!                                                                             !!  W anfadr , endadr              Ausgabe eines Speicherbereiches im Intel-   !!                                 Hexformat }ber den Punch-Kanal. Kann mit dem!!                                 R-Befehl wieder geladen werden.             !!                                                                             !!  X  register neuer_wert         Registeranzeige mit X.                      !!                                 Wird der Registername angegeben, so kann    !!                                 dieses modifiziert werden.                  !!                                                                             !!  Y wert ,  wert  ,   ...        Suchen nach einer Zeichenfolge von max. 255 !!                                 Bytes. Beispiel Y10,20,30 sucht nach den    !!                                 Hex-Werten 10,20,30                         !!                                                                             !!  Z                              Gibt den h|chsten Speicherbereich aus.      !!                                                                             !!  I                              Floppy-BOOT-Start.                          !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !--------------------------------------------------------------------------------------------------------------------------------------------------------------! M S H !          MONITOR___MH-computer__V2.2                    ! Blatt   3 !!-----------------------------------------------------------------------------!!                                                                             !!  Einige allgemeine Routinen:                                                !!  ---------------------------                                                !!                                                                             !!  1. CSTS     ( Consol-Status )                                              !!                                 }bergibt im A-Register eine 0 wenn keine    !!                                 und FFH wenn eine Taste gedr}ckt wurde.     !!                                                                             !!  2. CI       ( Consol-Input  )                                              !!                                 Liest ein Zeichen von dem aktuellen Konso-  !!                                 lenger{t und }bergibt es im A-Register.     !!                                                                             !!  3. CO       ( Consol-Output )                                              !!                                 Gibt ein im C-Register stehendes Zeichen    !!                                 auf Konsole aus.                            !!                                                                             !!  4. RI       ( Reader-Input  )                                              !!                                 Liest ein Zeichen von der vorgesehenen      !!                                 "Einlese-Schnittstelle" in das A-Register.  !!                                                                             !!  5. PO       ( Punch-Output  )                                              !!                                 Gibt ein im C-Register stehendes Zeichen    !!                                 }ber die "Ausgabe-Schnittstelle" aus.       !!                                                                             !!  6. LO       ( List-Output   )                                              !!                                 Gibt ein im C-Register stehendes Zeichen    !!                                 }ber den List-Kanal aus.                    !!                                                                             !!                                                                             !!  Aufbau des  IOBYTE                                                         !!  ------------------                                                         !!                                                                             !!  000000xx            Console                                                !!  0000xx00            Reader                                                 !!  00xx0000            Punch                                                  !!  xx000000            List                                                   !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!  Literatur:                                                                 !!  ----------                                                                 !!                                                                             !!  (1) Klein, Rolf-Dieter: Mikrocomputer-Hard- und Softwarepraxis.            !!                          Franzis-Verlag, M}nchen.                           !!                                                                             !!  (2) Klein, Rolf-Dieter: Der mc-CP/M-Computer.                              !!                          mc 1982, Heft 9.                                   !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !!                                                                             !-------------------------------------------------------------------------------                                                                                                                                                                                                                                                                                                                            =x 