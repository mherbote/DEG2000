	TITLE	'RB10	RAM-Test';	PN	RB10BWSA	EQU	03000HATAST	EQU	0A0HSPBA	EQU	0C0HRBANF:	JP	START	;KaltstartCONF:	JP	CON	;OutputroutineCINF:	JP	CIN	;Input routineCSTSF:	JP	CSTS	;KonsolenstatusCADRF:	JP	CADR	;CursoradressierungCHOMF:	JP	CHOM	;Clear-Home-Routine	DB	24	;Zeilen anzahl ABS	DB	80	;Spaltenanzahl ABSRANF:	DW	RBANF	;RAMBUG AnfangREND:	DW	RBEND	;RAMBUG EndeRAANF:	DW	0RAEND:	DW	0	DB	0FFHZWI:	DB	'                    '	DB	0FFHTANF:	DW	0TEND:	DW	0TLAE:	DW	0BLAE:	DW	0ZPOS:	DB	0SPOS:	DB	0UM:	DW	0UM1:	DW	0UM2:	DW	0MER:	DB	'          '	;BER	10			DB	'          '	;BER	100			DB	'          '			DB	'          '			DB	'          '			DB	'          '			DB	'          '			DB	'          '			DB	'          '			DB	'          '			DB	'          'SV1:	DB	0SV2:	DB	0SV3:	DB	0SV4:	DW	0CHK:	DW	067C6H	DB	0UP1:	PUSH	DE	PUSH	AF	LD	A,(DE)	PUSH	AFM1001:	CALL	CONF	POP	AF	INC	DE	BIT	7,A	JR	Z,$-09	POP	AF	POP	DE	RETSOUT:	EX	(SP),HL	PUSH	AF	LD	A,M	RES	7,AM1002:	CALL	CONF	LD	A,M	INC	HL	BIT	7,A	JR	Z,$-10	POP	AF	EX	(SP),HL	RETUP2:	PUSH	AF	PUSH	DEM1003:	CALL	CINF	RES	7,A	CP	008H	JR	NZ,$+18	DEC	DE	LD	A,(DE)	CP	0FFH	INC	DE	JR	Z,$-14	DEC	DEM1004:	CALL	SOUT	DB	08H	DB	' '	DB	08H+80H	JR	$-23	CP	07FH	JR	NC,$-27	CP	020H	JR	NC,$+06	CP	00DH	JR	NZ,$-35	PUSH	AFM1005:	CALL	CONF	POP	AF	CP	00DH	JR	Z,$+15	PUSH	BC	LD	C,A	LD	A,(DE)	CP	0FFH	LD	A,C	POP	BC	JR	Z,$-53	LD	(DE),A	INC	DE	JR	$-57	DEC	DE	LD	A,(DE)	SET	7,A	LD	(DE),A	LD	A,00AHM1006:	CALL	CONF	POP	DE	POP	AF	RETM1007:	LD	DE,ZWI	JR	$-77UP3:	CALL	UP1M1008:	CALL	SOUT	DB	' (J/N) ?'	DB	20H+80HM1009:	CALL	CINF	PUSH	AFM1010:	CALL	CONFM1011:	CALL	SOUT	DB	0DH+80H	POP	AF	CP	04EH	JR	Z,$+09	CP	06EH	JR	Z,$+05	LD	A,0FFH	RET	XOR	A	RET	LD	HL,0	PUSH	DEM1012:	CALL	UP2	LD	A,(DE)	CP	0FFH	JR	Z,$+40	RES	7,A	CP	030H	INC	DE	JR	C,$-10	DEC	DE	CP	041H	JR	NC,$+06	SUB	030H	JR	$+10	SUB	037H	CP	010H	JR	C,$+04	SUB	020H	ADD	HL,HL	ADD	HL,HL	ADD	HL,HL	ADD	HL,HL	ADD	A,L	LD	L,A	LD	A,(DE)	BIT	7,A	JR	NZ,$+05	INC	DE	JR	$-41	POP	DE	RETUP4:	LD	DE,ZWI	JR	$-55UP5:	PUSH	AF	RRA	RRA	RRA	RRAM1013:	CALL	UP6	POP	AFUP6:	PUSH	AF	AND	00FH	OR	030H	CP	03AH	JR	C,$+04	ADD	A,007HM1014:	CALL	CONF	POP	AF	RETUP7:	PUSH	AF	LD	A,HM1015:	CALL	UP5	LD	A,LM1016:	CALL	UP5	POP	AF	RETJ1:	CALL	CHOMFM1017:	CALL	SOUT	DB	'* SYSTEM ABSTURZ '	DB	02AH+80H	HALTT1:	DB	00DH	DB	'Eingabe richtig'	DB	020H+80HT2:	DB	'Buffer/Chip-Tes'	DB	074H+80HT3:	DB	'Peak-Test      '	DB	020H+80HT4:	DB	'Valley-Test    '	DB	020H+80HT7:	DB	'H-Worstcase    '	DB	020H+80HT8:	DB	'L-Worstcase    '	DB	020H+80HT9:	DB	'Refresh-Test   '	DB	020H+80HT10:	DB	'Refresh-Delay  '	DB	020H+80HT11:	DB	'M1-Test        '	DB	020H+80HUP8:	CALL	CHOMFM1018:	CALL	SOUT	DB	'     RAMTEST  ( DEG 2000 )'	DB	00DH	DB	00DH+80HM1019:	LD	HL,(RANF)MV2:	DEC	HL	LD	A,L	OR	H	JR	Z,M1020	LD	A,M	CPL	LD	M,A	CPL	CP	M	LD	M,A	JR	NZ,MV2	INC	HLM1020:	LD	(RAANF),HLM1021:	LD	HL,(REND)MV4:	INC	HL	LD	A,L	OR	H	JR	Z,MV3	LD	A,M	CPL	LD	M,A	CPL	CP	M	LD	M,A	JR	NZ,MV4MV3:	DEC	HLM1022:	LD	(RAEND),HL	PUSH	HLM1023:	CALL	SOUT	DB	'RAM - Bereich    :'	DB	020H+80HM1024:	LD	HL,(RAANF)M1025:	CALL	UP7M1026:	CALL	SOUT	DB	02DH+80H	POP	HLM1027:	CALL	UP7M1028:	CALL	SOUT	DB	00DH	DB	'RAMTEST belegt   :'	DB	020H+80HM1029:	LD	HL,(RANF)M1030:	CALL	UP7M1031:	CALL	SOUT	XOR	LM1032:	LD	HL,(REND)M1033:	CALL	UP7J2:	CALL	SOUT	DB	00DH	DB	00DH	DB	'Testanfang (hex) :'	DB	020H+80HM1034:	CALL	UP4M1035:	LD	(TANF),HL	PUSH	HLM1036:	CALL	SOUT	DB	'Testende   (hex) :'	DB	020H+80HM1037:	CALL	UP4M1038:	LD	(TEND),HL	POP	DE	XOR	A	SBC	HL,DE	INC	HLM1039:	LD	(TLAE),HL	PUSH	HLM1040:	CALL	SOUT	DB	'RAM-Laenge (hex) :'	DB	020H+80HM1041:	CALL	UP7	PUSH	HLM1042:	LD	HL,(REND)M1043:	LD	DE,(RANF)	SBC	HL,DE	INC	HL	PUSH	HL	ADD	HL,HL	POP	DE	ADD	HL,DE	PUSH	HLM1044:	LD	HL,(RAEND)M1045:	LD	DE,(RAANF)	INC	HL	SBC	HL,DE	POP	DE	SBC	HL,DE	POP	DE	SBC	HL,DE	JR	NC,M1048M1046:	CALL	SOUT	DB	00DH	DB	00DH	DB	'* kein Arbeitsbereich *'	DB	00DH+80H	POP	HLM1047:	JP	J2M1048:	CALL	SOUT	DB	0DH	DB	'Blocklaenge (hex):'	DB	020H+80HM1049:	CALL	UP4M1050:	LD	(BLAE),HL	LD	C,000H	EX	DE,HL	POP	HL	XOR	A	INC	C	JR	Z,M1057	SBC	HL,DE	JR	Z,M1060	JR	NC,$-07M1051:	CALL	SOUT	DB	00DH	DB	'* falsche Eingabe *'	DB	00DH+80HM1052:	JP	J2M1060:	LD	A,CM1053:	LD	(MER),AM1054:	CALL	SOUT	DB	'Blockanzahl      :'	DB	020H+80H	LD	B,A	XOR	A	INC	A	DAA	DJNZ	$-02M1055:	CALL	UP5M1056:	LD	A,21	SUB	C	JR	NC,M1059M1057:	CALL	SOUT	DB	00DH	DB	00DH	DB	'* zu viele Bloecke *'	DB	00DH+80HM1058:	JP	J2M1059:	CALL	SOUT	DB	00DH	DB	00DH	DB	'welche Tests werden gewuenscht ?'	DB	00DH+80HM1061:	LD	DE,T2M1062:	CALL	UP3M1063:	LD	(MER+1),AM1067:	LD	DE,T3M1068:	CALL	UP3M1069:	LD	(MER+2),AM1070:	LD	DE,T4M1071:	CALL	UP3M1072:	LD	(MER+3),AM1073:	LD	DE,T7M1074:	CALL	UP3M1075:	LD	(MER+6),AM1076:	LD	DE,T8M1077:	CALL	UP3M1078:	LD	(MER+7),AM1082:	LD	DE,T9M1083:	CALL	UP3M1084:	LD	(MER+8),AM1085:	LD	DE,T11M1086:	CALL	UP3M1087:	LD	(MER+9),AM1088:	LD	DE,T1M1089:	CALL	UP3M1090:	JP	Z,UP8	RETS:	DB	'MRLHVPB'UP9:	CALL	CHOMFM1091:	CALL	SOUT	DB	'Addr.'	DB	020H+80H	LD	B,008HM1093:	CALL	SOUT	DB	' '	DB	020H+80HLDAB:	LD	A,B	DEC	AM1094:	CALL	UP5	LD	C,006HM1096:	CALL	SOUT	DB	020H+80H	DEC	C	JR	NZ,$-05	DJNZ	LDABM1097:	CALL	SOUT	DB	00DH+80H	LD	B,045HM1099:	CALL	SOUT	DB	02DH+80H	DJNZ	$-04M1100:	LD	HL,(TANF)M1101:	LD	DE,(BLAE)M1102:	LD	A,(MER)	LD	B,AM1103:	CALL	SOUT	DB	00DH+80HM1104:	CALL	UP7M1105:	CALL	SOUT	DB	' '	DB	020H+80H	PUSH	BC	LD	B,008HM1106:	LD	C,007HM1107:	CALL	SOUT	DB	02EH+80H	DEC	C	JR	NZ,$-05M1108:	CALL	SOUT	DB	020H+80H	DJNZ	M1106	POP	BC	ADD	HL,DE	DJNZ	M1103	RETUP10:	PUSH	AF	PUSH	BC	PUSH	DE	PUSH	HLM1109:	LD	HL,(TANF)	DEC	HL	DEC	IXM1110:	LD	DE,(BLAE)	LD	B,000H	ADD	HL,DE	INC	B	EX	DE,HL	PUSH	HL	PUSH	IX	POP	HL	SBC	HL,DE	POP	HL	EX	DE,HL	JR	NC,$-11	CCF	SBC	HL,DE	LD	A,B	INC	A	PUSH	IY	POP	BC	LD	E,A	LD	A,B	LD	B,008H	LD	D,005H	RLCAM1112:	JR	NC,M1119	PUSH	DE	PUSH	BC	PUSH	AFM1111:	LD	HL,S	LD	B,007H	LD	A,C	CP	M	JR	Z,$+08	INC	HL	DJNZ	$-05M1115:	JP	J1	LD	A,B	ADD	A,D	LD	D,AM1116:	CALL	CADRF	LD	A,CM1117:	CALL	CONFM1118:	CALL	CADRF	POP	AF	POP	BC	POP	DEM1119:	PUSH	AF	LD	A,008H	ADD	A,D	LD	D,A	POP	AF	SLA	A	DJNZ	M1112	POP	HL	POP	DE	POP	BC	POP	AF	INC	IX	RETT20:	DB	'beliebige Taste oder RESET '	DB	021H+80HT21A:	DB	'Test'	DB	020H+80HT22:	DB	'wiederholen  '	DB	020H+80HT23:	DB	'** M1: Block zu klein **'	DB	00DH+80HT24:	NOP	ADC	A,B	LD	BC,0007FH	ADC	A,B	NOP	INC	B	ADC	A,B	NOP	EX	AF,AF'	NOP	EX	AF,AF'	NOP	DJNZ	$+04	LD	C,008H	INC	B	ADC	A,B	DEC	L	ADC	A,B	NOP	EX	AF,AF'	ADD	A,B	NOP	NOPUP11:	PUSH	DE	LD	D,AM1120:	LD	A,(SV1)	LD	E,A	PUSH	DE	POP	IY	PUSH	HL	POP	IXM1121:	CALL	UP10	POP	DE	RETUP12:	PUSH	AF	PUSH	DE	LD	D,0M1122:	LD	A,(MER)	ADD	A,002H	LD	E,AM1123:	LD	A,24	SUB	EM1124:	JP	C,J1M1125:	CALL	CADRFM1126:	CALL	UP17	POP	DEM1127:	CALL	UP1	POP	AF	RET	TITLE	'RB20	RAM-Test'	PAGE;	END;	PN	RB20START:	LD	SP,SV4ST1:	CALL	UP18M1128:	CALL	UP8M1129:	CALL	UP16J3:	LD	SP,SV1M1130:	CALL	UP9M1132:	LD	A,(MER+1)	;B/C - TEST	CP	0FFH	JR	NZ,M1144	LD	A,042HM1133:	LD	(SV1),AM1134:	LD	DE,T2M1135:	CALL	UP12	LD	B,008HM1136:	LD	HL,(TANF)M1137:	LD	DE,(TLAE)	LD	A,055H	LD	M,A	XOR	MM1138:	CALL	NZ,UP11M1139:	CALL	CSTSF	JR	NZ,M1144	LD	A,0AAH	LD	M,A	XOR	MM1141:	CALL	NZ,UP11	DEC	DE	INC	HL	LD	A,D	OR	E	JR	NZ,$-23	DJNZ	$-32M1144:	LD	A,(MER+2)	;P - TEST	CP	0FFH	JR	NZ,M1161	LD	A,050HM1145:	LD	(SV1),AM1146:	LD	DE,T3M1147:	CALL	UP12	XOR	A	;STARTM1151:	LD	HL,(TANF)	LD	M,A	LD	B,009HM1152:	LD	HL,(TANF)M1153:	LD	DE,(TLAE)	LD	A,M	AND	A	JR	NZ,$+03	SCF	RLA	LD	M,A	EX	AF,AF'	INC	HL	DEC	DE	LD	A,D	OR	E	JR	Z,$+05	EX	AF,AF'	JR	$-10M1155:	LD	HL,(TANF)M1156:	LD	DE,(TLAE)	LD	A,M	AND	A	JR	NZ,$+03	SCF	LD	C,A	EX	AF,AF'	LD	A,C	XOR	MM1157:	CALL	NZ,UP11	INC	HL	DEC	DEM1158:	CALL	CSTSF	JR	NZ,M1161	LD	A,D	OR	E	JR	Z,$+06	EX	AF,AF'	RLA	JR	$-20	DJNZ	M1152M1161:	LD	A,(MER+3)	;V - TEST	CP	0FFH	JR	NZ,M1181	LD	A,056HM1162:	LD	(SV1),AM1163:	LD	DE,T4M1164:	CALL	UP12M1167:	LD	HL,(TANF)	;START	LD	M,0FFH	LD	B,009HM1168:	LD	HL,(TANF)M1169:	LD	DE,(TLAE)	LD	A,M	CP	0FFH	RLA	LD	M,A	EX	AF,AF'	INC	HL	DEC	DE	LD	A,D	OR	E	JR	Z,$+05	EX	AF,AF'	JR	$-10M1171:	LD	HL,(TANF)M1172:	LD	DE,(TLAE)	LD	A,M	CP	0FFH	LD	C,A	EX	AF,AF'	LD	A,C	XOR	MM1173:	CALL	NZ,UP11	INC	HL	DEC	DEM1174:	CALL	CSTSF	JR	NZ,M1181	LD	A,D	OR	E	JR	Z,$+06	EX	AF,AF'	RLA	JR	$-20	DJNZ	M1168M1181:	LD	A,(MER+6)	;WC - TEST (H)	CP	0FFH	JR	NZ,M1192	LD	A,048HM1182:	LD	(SV1),AM1183:	LD	DE,T7M1184:	CALL	UP12	LD	A,055HM1185:	LD	(SV2),A	CPLM1186:	LD	(SV3),AM1187:	CALL	UP15M1192:	LD	A,(MER+7)	;WC - TEST (L)	CP	0FFHM1193:	JP	NZ,J5	LD	A,04CHM1194:	LD	(SV1),AM1195:	LD	DE,T8M1196:	CALL	UP12	LD	A,0AAHM1205:	LD	(SV2),A	CPLM1206:	LD	(SV3),AM1207:	CALL	UP15	JR	$+98UP15:	LD	HL,(TANF)	;STARTM1210:	LD	DE,(TLAE)M1211:	LD	A,(SV3)	LD	M,A	LD	B,011HM1212:	LD	A,(SV2)	LD	C,A	JR	$+03	LD	M,C	INC	HL	DEC	DEM1213:	CALL	CSTSF	RET	NZ	LD	A,D	OR	E	JR	Z,$+06	DJNZ	$-11	JR	$-25	LD	B,010H	PUSH	BCM1214:	LD	DE,(TEND)	PUSH	DE	POP	HL	DEC	HLM1215:	LD	BC,(TLAE)	DEC	BC	LDDRM1216:	LD	HL,(TANF)M1217:	LD	A,(SV2)	LD	M,A	POP	BCM1218:	CALL	CSTSF	RET	NZ	DJNZ	$-27M1219:	LD	DE,(TLAE)	LD	B,010HM1220:	LD	A,(SV2)	XOR	MM1221:	CALL	NZ,UP11	INC	HL	DEC	DEM1222:	CALL	CSTSF	RET	NZ	LD	A,D	OR	E	RET	Z	DJNZ	$-16M1223:	LD	A,(SV3)	LD	B,011H	JR	$-20J5:	LD	A,(MER+8)	;R - TEST	CP	0FFH	JR	NZ,M1245	LD	A,052HM1224:	LD	(SV1),AM1225:	LD	DE,T9M1226:	CALL	UP12	LD	C,08EHM1227:	LD	HL,(TANF)	LD	M,C	LD	B,008HM1228:	LD	HL,(TANF)M1229:	LD	DE,(TLAE)	LD	C,M	RRC	C	LD	M,C	INC	HL	DEC	DEM1230:	CALL	CSTSF	JR	NZ,M1245	LD	A,D	OR	E	JR	NZ,$-12M1232:	LD	DE,T10M1233:	CALL	UP12	LD	HL,0000AH	LD	DE,0FFFFH	DEC	DE	LD	A,D	OR	E	JR	NZ,$-03	DEC	HLM1234:	CALL	CSTSF	JR	NZ,M1245	LD	A,H	OR	L	JR	NZ,$-16M1236:	LD	DE,T9M1237:	CALL	UP12M1238:	LD	HL,(TANF)M1239:	LD	DE,(TLAE)	LD	C,M	LD	A,C	XOR	MM1240:	CALL	NZ,UP11	INC	HL	DEC	DEM1241:	CALL	CSTSF	JR	NZ,M1245	LD	A,D	OR	E	JR	Z,$+06	RRC	C	JR	$-18	DJNZ	$-83M1245:	LD	A,(MER+9)	;M1 - TEST	CP	0FFHM1246:	JP	NZ,J6	LD	A,04DHM1247:	LD	(SV1),AM1248:	LD	DE,T11M1249:	CALL	UP12M1250:	LD	DE,(BLAE)	LD	HL,00020H	SBC	HL,DE	JR	C,$+20M1251:	LD	DE,T23M1252:	CALL	UP12M1253:	LD	DE,T20M1254:	CALL	UP1M1255:	CALL	CINFM1256:	JP	STARTM1257:	LD	A,(MER)	LD	B,AM1258:	LD	HL,(TANF)	PUSH	BC	PUSH	DE	PUSH	HL	EX	DE,HLM1259:	LD	HL,T24	LD	BC,0001BH	LDIR	POP	HL	POP	BC	ADD	HL,BC	PUSH	BC	PUSH	HL	SBC	HL,DE	LD	A,0C9H	LD	(DE),A	INC	DE	DEC	HL	LD	A,H	OR	L	JR	NZ,$-07	POP	HL	POP	DE	POP	BC	DJNZ	$-31	EXX	LD	BC,00400H	EXXM1260:	LD	DE,(TANF)M1261:	CALL	CSTSF	JR	NZ,$+71M1262:	LD	A,(MER)	LD	B,A	PUSH	DE	PUSH	BCM1263:	LD	HL,J10	PUSH	HL	PUSH	DE	LD	BC,0	LD	HL,00080H	LD	A,0FFH	EX	AF,AF'	RETJ10:	JR	NC,$+38	AND	A	JR	NZ,$+35	LD	A,B	CP	001H	JR	NZ,$+30	LD	A,L	CP	07FH	JR	NZ,$+25	LD	A,C	CP	008H	JR	NZ,$+20	POP	BC	POP	DEM1264:	LD	HL,(BLAE)	ADD	HL,DE	EX	DE,HL	DJNZ	$-44	EXX	DEC	BC	LD	A,B	OR	C	EXX	JR	NZ,$-64	JR	$+12	POP	BC	POP	HL	LD	A,0FFHM1265:	CALL	UP11	EX	DE,HL	JR	$-24J6:	LD	DE,T20M1266:	CALL	UP12M1267:	CALL	CSTSFM1269:	CALL	CINFM1270:	LD	DE,T21AM1271:	CALL	UP12M1272:	LD	DE,T22M1273:	CALL	UP3M1274:	JP	Z,STARTM1275:	JP	J3UP16:	LD	DE,(REND)M1276:	LD	HL,(TANF)	XOR	A	SBC	HL,DE	RET	NCM1277:	LD	DE,(TEND)M1278:	LD	HL,(RANF)	SBC	HL,DE	RET	NCM1279:	LD	HL,(REND)	PUSH	HLM1280:	LD	DE,(RANF)	;RAMBUGANFANG	XOR	A	SBC	HL,DE	;LAENGE RAMBUG	PUSH	HL	POP	BC	POP	HL	;RENDM1281:	LD	DE,(TEND)	SBC	HL,DE	JR	C,M1283M1282:	LD	DE,(REND)	;DE=MAX(REND,TEND)M1283:	LD	HL,(RAEND)	XOR	A	SBC	HL,DE	;FREIER PLATZ BIS RAM-ENDE	JR	C,M1285	SBC	HL,BC	;FREIER PLATZ - LAENGE RAMBUG	JR	C,M1285	INC	DEM1284:	CALL	UP161	JR	NZ,VER	;J... VERSCHIEBUNG RAMBUGM1285:	LD	HL,(RANF)M1286:	LD	DE,(TANF)	PUSH	HL	XOR	A	SBC	HL,DE	POP	HL	JR	C,MV5	EX	DE,HL	;HL=MIN(TANF,RANF)MV5:	LD	DE,4000H	PUSH	HLM1287:	LD	HL,(RAANF)	PUSH	HL	XOR	A	SBC	HL,DE	POP	HL	JR	C,MV6	EX	DE,HL	;DE=MAX(RAANF,4000H)MV6:	POP	HL	XOR	A	SBC	HL,DEM1288:	JP	C,J1	SBC	HL,BC	;FREIER SPEICHER - LAENGE RAMBUGM1289:	JP	C,J1M1290:	CALL	UP161M1291:	JP	Z,STARTVER:	PUSH	HL	PUSH	DE	LDIR	XOR	A	POP	DE	POP	HL	SBC	HL,DE	PUSH	HL	POP	BCM1305:	LD	IX,GEN1	LD	L,(IX+00)	INC	IX	LD	H,(IX+00)	INC	IX	LD	A,H	OR	L	JR	Z,$+26	DEC	HL	ADD	HL,DE	PUSH	DE	LD	E,M	INC	HL	LD	D,M	EX	DE,HL	SBC	HL,BC	EX	DE,HL	LD	M,D	LD	A,M	CP	D	JR	NZ,$+15	DEC	HL	LD	M,E	LD	A,M	CP	E	JR	NZ,$+09	POP	DE	JR	$-36	POP	HL	SBC	HL,BC	JP	(HL)M1306:	CALL	SOUT	DB	00DH	DB	'* Speicherfehler *'	DB	00DH+80HM1307:	LD	DE,T20M1308:	CALL	UP1M1309:	CALL	CINFM1310:	JP	STARTUP161:	CALL	SOUT	DB	'Test verschieben von'	DB	20H+80HM1601:	LD	HL,(RANF)M1602:	CALL	UP7M1603:	CALL	SOUT	DB	' nach'	DB	20H+80H	EX	DE,HLM1604:	CALL	UP7	EX	DE,HL	PUSH	DEM1605:	LD	DE,T1M1606:	CALL	UP3	POP	DE	RETUP17:	PUSH	AF	PUSH	BC	PUSH	DE	PUSH	HL	LD	IY,0M1311:	LD	HL,(RANF)	LD	BC,UP1-RBANF	ADD	HL,BC	PUSH	HL	POP	BCM1312:	LD	HL,(RANF)	LD	DE,RBEND-RBANF-1	ADD	HL,DE	EX	DE,HLM1313:	LD	IX,GEN2	LD	L,(IX+00)	INC	IX	LD	H,(IX+00)	INC	IX	DEC	HL	PUSH	DEM1314:	LD	DE,(RANF)	ADD	HL,DE	POP	DE	XOR	A	SBC	HL,BC	JR	Z,$+23	PUSH	DE	EX	DE,HL	XOR	A	SBC	HL,BC	JR	C,$+20	EX	DE,HL	LD	A,(BC)	LD	E,A	LD	D,0	ADD	IY,DE	POP	DE	INC	BC	DEC	HL	LD	A,H	OR	L	JR	NZ,$-19	INC	BC	INC	BC	JR	$-46	POP	DEM1315:	LD	BC,(CHK)	PUSH	IY	POP	HL	XOR	A	SBC	HL,BCM1316:	JP	NZ,J1	POP	HL	POP	DE	POP	BC	POP	AF	RETM201:	DW	$	DB	'RAMT'	DIM2011:	LD	SP,SV4	OUT	(0C4H),AM202:	CALL	DEGM203:	JP	RBANFCON:	CALL	BWSZU	PUSH	HL	PUSH	BC	PUSH	DE	PUSH	AFM204:	CALL	CPOS	RES	7,(HL)	POP	AF	RES	7,A	CP	00AH	JR	Z,CON9	CP	00DH	JR	Z,CON2	LD	(HL),A	INC	HL	SET	7,(HL)M205:	CALL	LCPOS	JR	CON9CON2:	CALL	ZLPOSM206:	LD	DE,80	ADD	HL,DE	PUSH	HL	LD	HL,BWSA+1920	POP	DE	OR	A	SBC	HL,DE	JR	NZ,CON3M207:	CALL	LOE	JR	CON9CON3:	EX	DE,HLM208:	CALL	LCPOSCON9:	POP	DE	POP	BC	POP	HLM209:	JP	BWSABCIN:	CALL	CSTS	JR	Z,CIN	RETCSTS:	IN	A,(ATAST+1)	CPL	BIT	3,A	RET	Z	IN	A,(ATAST)	CP	09DH	RET	NZ	LD	A,0DH	OR	A	RETCHOM:	PUSH	AF	PUSH	BC	PUSH	DE	PUSH	HLCHOM0:	CALL	LOE	POP	HL	POP	DE	POP	BC	POP	AF	RETCADR:	CALL	BWSZU	PUSH	AF	PUSH	HL	PUSH	DECADR0:	CALL	CPOS	RES	7,(HL)	POP	DE	PUSH	DEM213:	LD	(ZPOS),DEM214:	CALL	CPOS	SET	7,(HL)	POP	DE	POP	HL	POP	AFM214A:	JP	BWSABCPOS:	LD	HL,(SPOS)	LD	DE,BWSA	LD	H,DM215:	LD	A,(ZPOS)PNSP:	OR	A	RET	ZM216:	LD	DE,80PNSP1:	ADD	HL,DE	DEC	A	JR	NZ,PNSP1	RETLCPOS:	PUSH	HL	PUSH	DE	LD	DE,BWSA	OR	A	SBC	HL,DEM217:	LD	DE,80	XOR	ALCP1:	SBC	HL,DE	INC	A	JR	NC,LCP1	ADD	HL,DE	DEC	AM218:	LD	(ZPOS),A	LD	A,LM219:	LD	(SPOS),A	POP	DE	POP	HL	RETZLPOS:	LD	HL,BWSA	PUSH	AFM220:	LD	A,(ZPOS)POS4:	CALL	PNSPPOS1:	POP	AF	RETLOE:	CALL	BWSZU	LD	HL,BWSA	LD	DE,BWSA+1	LD	BC,1920	LD	(HL),' '	LDIR	LD	HL,0M221:	LD	(ZPOS),HL	LD	HL,BWSA	SET	7,(HL)M221A:	JP	BWSABUP18:	PUSH	DE	PUSH	HL	PUSH	AFM224:	CALL	CHOMM225:	CALL	SOUT	DB	00DH	DB	'Rechnerkonfiguration (A,S) '	DB	03AH+80HM226:	CALL	CIN	PUSH	AFM227:	CALL	CONFM227A:	LD	DE,T27M227B:	CALL	UP3	JR	NZ,MV15	POP	AF	JR	M224MV15:	POP	AF	CP	53H	JR	NZ,M229AM229:	CALL	DEG	JR	M2301M229A:	CP	41H	JR	NZ,M2301M230:	CALL	ANWM2301:	POP	AF	POP	HL	POP	DE	RETT27:	DB	00DH	DB	00DH	DB	00DH+80HDEG:	PUSH	HL	PUSH	AF	LD	HL,027A7HM231:	LD	(UM),HL	LD	HL,00484HM232:	LD	(UM1),HL	LD	HL,0M2321:	LD	(UM2),HL	POP	AF	POP	HL	JR	BWSABBWSZU:	PUSH	AFM242:	LD	A,(UM2+1)	OUT	(SPBA+2),AM243:	LD	A,(UM1+1)	OUT	(SPBA+1),AM2431:	LD	A,(UM+1)	OUT	(SPBA),A	POP	AF	RETBWSAB:	PUSH	AFM244:	LD	A,(UM)	OUT	(SPBA),AM245:	LD	A,(UM1)	OUT	(SPBA+1),AM2451:	LD	A,(UM2)	OUT	(SPBA+2),A	POP	AF	RETANW:	CALL	SOUT	;ANWENDERMODUS	DB	0DH	DB	'SYS1'	DB	3AH+80HM246:	CALL	UP4M247:	LD	(UM),HLM248:	CALL	SOUT	DB	0DH	DB	'SYS2'	DB	3AH+80HM249:	CALL	UP4M250:	LD	(UM1),HLM251:	CALL	SOUT	DB	0DH	DB	'SYS3'	DB	3AH+80HM2511:	CALL	UP4M2512:	LD	(UM2),HLM254:	LD	DE,T27M255:	CALL	UP3	JR	Z,ANW	JR	BWSAB	TITLE	'RB30	RAM-Test'	PAGE;	END;	PN	RB30GEN1:	DW	RBANF-RBANF+2	DW	CONF-RBANF+2	DW	CINF-RBANF+2	DW	CSTSF-RBANF+2	DW	CADRF-RBANF+2	DW	CHOMF-RBANF+2	DW	RANF-RBANF+1	DW	REND-RBANF+1GEN2:	DW	M1001-RBANF+2	DW	M1002-RBANF+2	DW	M1003-RBANF+2	DW	M1004-RBANF+2	DW	M1005-RBANF+2	DW	M1006-RBANF+2	DW	M1007-RBANF+2	DW	UP3-RBANF+2	DW	M1008-RBANF+2	DW	M1009-RBANF+2	DW	M1010-RBANF+2	DW	M1011-RBANF+2	DW	M1012-RBANF+2	DW	UP4-RBANF+2	DW	M1013-RBANF+2	DW	M1014-RBANF+2	DW	M1015-RBANF+2	DW	M1016-RBANF+2	DW	J1-RBANF+2	DW	M1017-RBANF+2	DW	UP8-RBANF+2	DW	M1018-RBANF+2	DW	M1019-RBANF+2	DW	M1020-RBANF+2	DW	M1021-RBANF+2	DW	M1022-RBANF+2	DW	M1023-RBANF+2	DW	M1024-RBANF+2	DW	M1025-RBANF+2	DW	M1026-RBANF+2	DW	M1027-RBANF+2	DW	M1028-RBANF+2	DW	M1029-RBANF+2	DW	M1030-RBANF+2	DW	M1031-RBANF+2	DW	M1032-RBANF+2	DW	M1033-RBANF+2	DW	J2-RBANF+2	DW	M1034-RBANF+2	DW	M1035-RBANF+2	DW	M1036-RBANF+2	DW	M1037-RBANF+2	DW	M1038-RBANF+2	DW	M1039-RBANF+2	DW	M1040-RBANF+2	DW	M1041-RBANF+2	DW	M1042-RBANF+2	DW	M1043-RBANF+3	DW	M1044-RBANF+2	DW	M1045-RBANF+3	DW	M1046-RBANF+2	DW	M1047-RBANF+2	DW	M1048-RBANF+2	DW	M1049-RBANF+2	DW	M1050-RBANF+2	DW	M1051-RBANF+2	DW	M1052-RBANF+2	DW	M1053-RBANF+2	DW	M1054-RBANF+2	DW	M1055-RBANF+2	DW	M1057-RBANF+2	DW	M1058-RBANF+2	DW	M1059-RBANF+2	DW	M1061-RBANF+2	DW	M1062-RBANF+2	DW	M1063-RBANF+2	DW	M1067-RBANF+2	DW	M1068-RBANF+2	DW	M1069-RBANF+2	DW	M1070-RBANF+2	DW	M1071-RBANF+2	DW	M1072-RBANF+2	DW	M1073-RBANF+2	DW	M1074-RBANF+2	DW	M1075-RBANF+2	DW	M1076-RBANF+2	DW	M1077-RBANF+2	DW	M1078-RBANF+2	DW	M1082-RBANF+2	DW	M1083-RBANF+2	DW	M1084-RBANF+2	DW	M1085-RBANF+2	DW	M1086-RBANF+2	DW	M1087-RBANF+2	DW	M1088-RBANF+2	DW	M1089-RBANF+2	DW	M1090-RBANF+2	DW	UP9-RBANF+2	DW	M1091-RBANF+2	DW	M1093-RBANF+2	DW	M1094-RBANF+2	DW	M1096-RBANF+2	DW	M1097-RBANF+2	DW	M1099-RBANF+2	DW	M1100-RBANF+2	DW	M1101-RBANF+3	DW	M1102-RBANF+2	DW	M1103-RBANF+2	DW	M1104-RBANF+2	DW	M1105-RBANF+2	DW	M1107-RBANF+2	DW	M1108-RBANF+2	DW	M1109-RBANF+2	DW	M1110-RBANF+3	DW	M1111-RBANF+2	DW	M1115-RBANF+2	DW	M1116-RBANF+2	DW	M1117-RBANF+2	DW	M1118-RBANF+2	DW	M1120-RBANF+2	DW	M1121-RBANF+2	DW	M1122-RBANF+2	DW	M1124-RBANF+2	DW	M1125-RBANF+2	DW	M1126-RBANF+2	DW	M1127-RBANF+2	DW	START-RBANF+2	DW	ST1-RBANF+2	DW	M1128-RBANF+2	DW	M1129-RBANF+2	DW	J3-RBANF+2	DW	M1130-RBANF+2	DW	M1132-RBANF+2	DW	M1133-RBANF+2	DW	M1134-RBANF+2	DW	M1135-RBANF+2	DW	M1136-RBANF+2	DW	M1137-RBANF+3	DW	M1138-RBANF+2	DW	M1139-RBANF+2	DW	M1141-RBANF+2	DW	M1144-RBANF+2	DW	M1145-RBANF+2	DW	M1146-RBANF+2	DW	M1147-RBANF+2	DW	M1151-RBANF+2	DW	M1152-RBANF+2	DW	M1153-RBANF+3	DW	M1155-RBANF+2	DW	M1156-RBANF+3	DW	M1157-RBANF+2	DW	M1158-RBANF+2	DW	M1161-RBANF+2	DW	M1162-RBANF+2	DW	M1163-RBANF+2	DW	M1164-RBANF+2	DW	M1167-RBANF+2	DW	M1168-RBANF+2	DW	M1169-RBANF+3	DW	M1171-RBANF+2	DW	M1172-RBANF+3	DW	M1173-RBANF+2	DW	M1174-RBANF+2	DW	M1181-RBANF+2	DW	M1182-RBANF+2	DW	M1183-RBANF+2	DW	M1184-RBANF+2	DW	M1185-RBANF+2	DW	M1186-RBANF+2	DW	M1187-RBANF+2	DW	M1192-RBANF+2	DW	M1193-RBANF+2	DW	M1194-RBANF+2	DW	M1195-RBANF+2	DW	M1196-RBANF+2	DW	M1205-RBANF+2	DW	M1206-RBANF+2	DW	M1207-RBANF+2	DW	UP15-RBANF+2	DW	M1210-RBANF+3	DW	M1211-RBANF+2	DW	M1212-RBANF+2	DW	M1213-RBANF+2	DW	M1214-RBANF+3	DW	M1215-RBANF+3	DW	M1216-RBANF+2	DW	M1217-RBANF+2	DW	M1218-RBANF+2	DW	M1219-RBANF+3	DW	M1220-RBANF+2	DW	M1221-RBANF+2	DW	M1222-RBANF+2	DW	M1223-RBANF+2	DW	J5-RBANF+2	DW	M1224-RBANF+2	DW	M1225-RBANF+2	DW	M1226-RBANF+2	DW	M1227-RBANF+2	DW	M1228-RBANF+2	DW	M1229-RBANF+3	DW	M1230-RBANF+2	DW	M1232-RBANF+2	DW	M1233-RBANF+2	DW	M1234-RBANF+2	DW	M1236-RBANF+2	DW	M1237-RBANF+2	DW	M1238-RBANF+2	DW	M1239-RBANF+3	DW	M1240-RBANF+2	DW	M1241-RBANF+2	DW	M1245-RBANF+2	DW	M1246-RBANF+2	DW	M1247-RBANF+2	DW	M1248-RBANF+2	DW	M1249-RBANF+2	DW	M1250-RBANF+3	DW	M1251-RBANF+2	DW	M1252-RBANF+2	DW	M1253-RBANF+2	DW	M1254-RBANF+2	DW	M1255-RBANF+2	DW	M1256-RBANF+2	DW	M1257-RBANF+2	DW	M1258-RBANF+2	DW	M1259-RBANF+2	DW	M1260-RBANF+3	DW	M1261-RBANF+2	DW	M1262-RBANF+2	DW	M1263-RBANF+2	DW	M1264-RBANF+2	DW	M1265-RBANF+2	DW	J6-RBANF+2	DW	M1266-RBANF+2	DW	M1267-RBANF+2	DW	M1269-RBANF+2	DW	M1270-RBANF+2	DW	M1271-RBANF+2	DW	M1272-RBANF+2	DW	M1273-RBANF+2	DW	M1274-RBANF+2	DW	M1275-RBANF+2	DW	UP16-RBANF+3	DW	M1276-RBANF+2	DW	M1277-RBANF+3	DW	M1278-RBANF+2	DW	M1279-RBANF+2	DW	M1280-RBANF+3	DW	M1281-RBANF+3	DW	M1282-RBANF+3	DW	M1283-RBANF+2	DW	M1284-RBANF+2	DW	M1285-RBANF+2	DW	M1286-RBANF+3	DW	M1287-RBANF+2	DW	M1288-RBANF+2	DW	M1289-RBANF+2	DW	M1290-RBANF+2	DW	M1291-RBANF+2	DW	M1305-RBANF+3	DW	M1306-RBANF+2	DW	M1307-RBANF+2	DW	M1308-RBANF+2	DW	M1309-RBANF+2	DW	M1310-RBANF+2	DW	UP161-RBANF+2	DW	M1601-RBANF+2	DW	M1602-RBANF+2	DW	M1603-RBANF+2	DW	M1604-RBANF+2	DW	M1605-RBANF+2	DW	M1606-RBANF+2	DW	M1311-RBANF+2	DW	M1312-RBANF+2	DW	M1313-RBANF+3	DW	M1314-RBANF+3	DW	M1315-RBANF+3	DW	M1316-RBANF+2	DW	M201-RBANF+1	DW	M2011-RBANF+2	DW	M202-RBANF+2	DW	M203-RBANF+2	DW	CON-RBANF+2	DW	M204-RBANF+2	DW	M205-RBANF+2	DW	CON2-RBANF+2	DW	M207-RBANF+2	DW	M208-RBANF+2	DW	M209-RBANF+2	DW	CIN-RBANF+2	DW	CHOM0-RBANF+2	DW	CADR-RBANF+2	DW	CADR0-RBANF+2	DW	M213-RBANF+3	DW	M214-RBANF+2	DW	M214A-RBANF+2	DW	CPOS-RBANF+2	DW	M215-RBANF+2	DW	M218-RBANF+2	DW	M219-RBANF+2	DW	M220-RBANF+2	DW	POS4-RBANF+2	DW	LOE-RBANF+2	DW	M221-RBANF+2	DW	M221A-RBANF+2	DW	M224-RBANF+2	DW	M225-RBANF+2	DW	M226-RBANF+2	DW	M227-RBANF+2	DW	M227A-RBANF+2	DW	M227B-RBANF+2	DW	M229-RBANF+2	DW	M230-RBANF+2	DW	M231-RBANF+2	DW	M232-RBANF+2	DW	M2321-RBANF+2	DW	M242-RBANF+2	DW	M243-RBANF+2	DW	M2431-RBANF+2	DW	M244-RBANF+2	DW	M245-RBANF+2	DW	M2451-RBANF+2	DW	ANW-RBANF+2	DW	M246-RBANF+2	DW	M247-RBANF+2	DW	M248-RBANF+2	DW	M249-RBANF+2	DW	M250-RBANF+2	DW	M251-RBANF+2	DW	M2511-RBANF+2	DW	M2512-RBANF+2	DW	M254-RBANF+2	DW	M255-RBANF+2	DW	0	DW	0	DW	0	DW	0	DW	0RBEND	EQU	$	END